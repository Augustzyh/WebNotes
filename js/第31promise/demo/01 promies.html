<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>40-js</title>
  <style>
    *{margin:0;padding:0;}
    
  </style>
</head>
<body>
  <script>
    /* 
      promise / 承诺

      重要

      回调地狱

      // 对数据库的操作
      // 文件系统操作

      Promise   状态： 进行中，成功，失败

      全封闭：一旦启动了一个promise，外部再也不能去改变它内部的状态了

      关注点结果： 成功 resolve，失败 reject


     */
    
   



     
    
    
    
    new Promise((resolve, reject) => {

      setTimeout(() => {
        try {
          console.log("事件1")
          // 在这里结束
          resolve("这是事件1传递给事件2的数据")
        } catch (error) {
          reject(error)
        }
      }, 100)
      
    })
    .then(msg => {
      console.log(msg)
      console.log("事件2")
      
      return Promise.reject("错误信息")
    }) 
    .then(fn1, fn2)
    

    const p1 = new Promise(() => {})
    const p2 = new Promise(() => {})
    const p3 = new Promise(() => {
      reject()
    })
    
    // const p = Promise.all([p1, p2, p3])

    // const p = Promise.race([p1, p2, p3]) // 竞速
    
    const reject = Promise.reject("失败信息")
    
    const resolve = Promise.resolve("返回一个立即成功的promise对象")





    
    




  </script>
</body>
</html>